<html><head>
<link rel="stylesheet" href="doc.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Ast" rel="Chapter" href="Ast.html">
<link title="ExtendedAst" rel="Chapter" href="ExtendedAst.html">
<link title="Common" rel="Chapter" href="Common.html">
<link title="Scan" rel="Chapter" href="Scan.html">
<link title="Normalize" rel="Chapter" href="Normalize.html">
<link title="Transform" rel="Chapter" href="Transform.html">
<link title="Reduce" rel="Chapter" href="Reduce.html">
<link title="Printer" rel="Chapter" href="Printer.html">
<link title="GenericPrinter" rel="Chapter" href="GenericPrinter.html">
<link title="Helper" rel="Chapter" href="Helper.html">
<link title="MiniHelper" rel="Chapter" href="MiniHelper.html">
<link title="Default" rel="Chapter" href="Default.html">
<link title="MiniLatex" rel="Chapter" href="MiniLatex.html">
<link title="LatexTabular" rel="Chapter" href="LatexTabular.html">
<link title="LatexSyntax" rel="Chapter" href="LatexSyntax.html">
<link title="LatexBacknaur" rel="Chapter" href="LatexBacknaur.html">
<link title="Html" rel="Chapter" href="Html.html">
<link title="Printers" rel="Chapter" href="Printers.html">
<link title="Position" rel="Chapter" href="Position.html">
<link title="Main" rel="Chapter" href="Main.html"><title>Obelisk code documentation : MiniLatex.begin_document</title>
</head>
<body>
<code class="code"><span class="keyword">let</span> begin_document misc symbols =
  <span class="keyword">let</span> commands symbols =
    <span class="keyword">let</span> escape = <span class="constructor">Str</span>.global_replace (<span class="constructor">Str</span>.regexp <span class="string">"_"</span>) <span class="string">"\\_"</span> <span class="keyword">in</span>
    <span class="constructor">List</span>.iter (<span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span>
        print_fmt_package <span class="string">"\\newcommand\\%s{%s}@;"</span>
          (command x) (escape x))
      (<span class="constructor">Common</span>.<span class="constructor">Symbols</span>.terminals symbols @ <span class="constructor">Common</span>.<span class="constructor">Symbols</span>.defined symbols);
    <span class="constructor">List</span>.iter (<span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span>
        <span class="keyword">let</span> cx = command x <span class="keyword">in</span>
        print_fmt_package <span class="string">"\\WithSuffix\\newcommand\\%s*{\\%s{\\%s}}@;"</span>
          cx (command <span class="string">"gramterm"</span>) cx)
      (<span class="constructor">Common</span>.<span class="constructor">Symbols</span>.terminals symbols);
    <span class="constructor">List</span>.iter (<span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span>
        <span class="keyword">let</span> cx = command x <span class="keyword">in</span>
        print_fmt_package <span class="string">"\\WithSuffix\\newcommand\\%s*{\\%s{\\%s}}@;"</span>
          cx (command <span class="string">"gramnonterm"</span>) cx)
      (<span class="constructor">Common</span>.<span class="constructor">Symbols</span>.non_terminals symbols);
    <span class="constructor">List</span>.iter (<span class="keyword">fun</span> x <span class="keywordsign">-&gt;</span>
        <span class="keyword">let</span> cx = command x <span class="keyword">in</span>
        print_fmt_package <span class="string">"\\WithSuffix\\newcommand\\%s*{\\%s{\\%s}}@;"</span>
          cx (command <span class="string">"gramfunc"</span>) cx)
      (<span class="constructor">Common</span>.<span class="constructor">Symbols</span>.functionals symbols);
   print_string_package <span class="string">"@;"</span>
  <span class="keyword">in</span>
  commands symbols;
  print_fmt_package
    <span class="string">"\\newcommand\\%sgramopt[1]{[#1]}@;\\newcommand\\%sgramplus[1]{#1\\ensuremath{^+}}@;\\newcommand\\%sgramstar[1]{#1\\ensuremath{^*}}@;\\newcommand\\%sgramseplist[2]{#2\\ensuremath{_{\\textnormal{#1}}^*}}@;\\newcommand\\%sgramsepnelist[2]{#2\\ensuremath{_{\\textnormal{#1}}^+}}@;\\newcommand\\%sparen[1]{(#1)}@;\\WithSuffix\\newcommand\\%sgramopt*[1]{\\paren{\\%sgramopt{#1}}}@;\\WithSuffix\\newcommand\\%sgramplus*[1]{\\paren{\\%sgramplus{#1}}}@;\\WithSuffix\\newcommand\\%sgramstar*[1]{\\paren{\\%sgramstar{#1}}}@;\\WithSuffix\\newcommand\\%sgramseplist*[2]{\\paren{\\%sgramseplist{#1}{#2}}}@;\\WithSuffix\\newcommand\\%sgramsepnelist*[2]{\\paren{\\%sgramsepnelist{#1}{#2}}}"</span>
    (pre ()) (pre ()) (pre ()) (pre ()) (pre ()) (pre ())
    (pre ()) (pre ()) (pre ()) (pre ()) (pre ())
    (pre ()) (pre ()) (pre ()) (pre ()) (pre ());
  print_fmt <span class="string">"%s%s\\begin{%s}@;"</span>
    (<span class="keyword">if</span> use () <span class="keyword">then</span> <span class="string">""</span> <span class="keyword">else</span> <span class="string">"\n\n\\begin{document}\n\n"</span>)
    (<span class="keyword">if</span> misc = <span class="string">""</span> <span class="keyword">then</span> <span class="string">""</span> <span class="keyword">else</span> misc ^ <span class="string">"\n"</span>)
    (command <span class="string">"grammar"</span>)</code></body></html>